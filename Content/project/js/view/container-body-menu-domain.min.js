function swalConfirmDeleteShopClose(n,t){swal({title:"Are you sure you want to delete this record?",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger",preConfirm:function(){var i=new ObjUrl(n),r=i.getUrlSubmitForm(),u={id:t,key:vmViewIndex.setup.dataModal.isClickShopCloseSmileDining(),domainId:vmViewIndex.setup.dataModal.domainId(),domainValue:vmViewIndex.setup.dataModal.domainValue()};return new Promise(function(){$.ajax({url:r,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:u,timeout:ajax_timeout}).done(function(n){var i=ko.utils.arrayFilter(vmViewIndex.setup.dataModal.dataShopClose(),function(t){return t.time()[0].shopCloseId()==n.obj}),t;vmViewIndex.setup.dataModal.dataShopClose.remove(_.first(i));refreshGrid("gridShopClose");t=new ObjAlert("",n.message,n.status);t.getAlert()}).fail(function(n){var t=new ObjAlert("",n.message,n.status);t.getAlert()})})}}).then(function(){refreshGrid("gridShopClose")},function(n){n==="cancel"})}function deliverectSaveData(n){var t="";t=n==cfrmDeliverectActivateAccount?"btnSearchDeliverectAccount":"btnSyncProduct";$("#"+t).addClass("disabled");$("#"+t+" .fa").addClass("fa-circle-o-notch fa-spin");var f=new ObjUrl(n),u=f.getUrlSubmitForm(),i=vmViewIndex.setup.dataModal,r={};if(n==cfrmDeliverectActivateAccount)r={AccountName:i.accountName(),DomainId:i.domainId()};else if(n==cfrmDeliverectInsertOrUpdateProduct)r={AccountId:i.accountId(),LocationId:i.locationId(),DomainId:i.domainId()};else if(isEmpty(u))return swal(cSwal_Alert_Error,cError_Dev_Url,cSwal_Icon_Error),!1;$.ajax({url:u,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:r,timeout:ajax_timeout}).done(function(i){var r,f,u;if($("#"+t).removeClass("disabled"),$("#"+t+" .fa").removeClass("fa-circle-o-notch fa-spin"),i.status){if(n==cfrmDeliverectActivateAccount&&(r=JSON.parse(i.obj),vmViewIndex.setup.dataModal.accountId(r.accountId),vmViewIndex.setup.dataModal.listLocation([]),ko.utils.arrayForEach(r.listLocation,function(n){vmViewIndex.setup.dataModal.listLocation.push({locationId:ko.observable(n.locationId),locationName:ko.observable(n.locationName)})}),vmViewIndex.setup.dataModal.locationSelect(_.first(r.listLocation).locationId),vmViewIndex.setup.dataModal.locationId(ko.toJSON(_.first(r.listLocation))),vmViewIndex.setup.dataModal.listDispatch([]),vmViewIndex.setup.dataModal.locationSelect()==vmViewIndex.setup.dataModal.initLocationId()&&vmViewIndex.setup.dataModal.listDispatch(vmViewIndex.setup.dataModal.initListDispatch()),vmViewIndex.setup.dataModal.dispatchStore([]),f=[],ko.utils.arrayForEach(r.listDispatch,function(n){vmViewIndex.setup.dataModal.dispatchStore.push({dispatchId:ko.observable(n.dispatchId),dispatchName:ko.observable(n.dispatchName)});f.push(n.dispatchId)}),vmViewIndex.setup.dataModal.currentDispatchIdStore(""),vmViewIndex.setup.dataModal.currentDispatchIdStore(ko.toJSON(f))),n==cfrmDeliverectInsertOrUpdateProduct){var r=JSON.parse(i.obj),o=ko.utils.arrayFilter(vmViewIndex.setup.data(),function(n){return n.domainId()==vmViewIndex.setup.dataModal.domainId()}),e=_.first(o);e.deliverect_AccountId(r.accountId);e.deliverect_LocationId(r.locationId);u=new ObjAlert(n,i.message,i.status);u.getAlert()}}else u=new ObjAlert(n,i.message,i.status),u.getAlert(),n==cfrmDeliverectActivateAccount&&(vmViewIndex.setup.dataModal.accountId(""),vmViewIndex.setup.dataModal.listLocation([]),vmViewIndex.setup.dataModal.locationSelect(""),vmViewIndex.setup.dataModal.locationId(""),vmViewIndex.setup.dataModal.listDispatchSelect(""))}).fail(function(){$("#"+t).removeClass("disabled");$("#"+t+" .fa").removeClass("fa-circle-o-notch fa-spin");var i=new ObjAlert(n,cError_Fail_TimeOut,!1);i.getAlert()})}function ResizeImage(n){var t=n?"btnCreateImage":"btnCreateImageAllDomain";$("#"+t).addClass("disabled");$("#"+t+" .fa").addClass("fa-circle-o-notch fa-spin");var i=new ObjUrl(cfrmResizeImage),r=i.getUrlSubmitForm(),u=n?vmViewIndex.setup.dataModal:null,f={DomainId:n?u.domainId():null};$.ajax({url:r,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:f,timeout:ajax_timeout}).done(function(i){$("#"+t).removeClass("disabled");$("#"+t+" .fa").removeClass("fa-circle-o-notch fa-spin");var r=new ObjAlert(cfrmResizeImage,i.message,i.status);r.getAlert();n||$("#modalResizeImage").modal("hide")}).fail(function(){swal(cSwal_Alert_Error,cError_Fail_TimeOut,cSwal_Icon_Error)})}function createIconImage(){var n="btnCreateIconImageAllDomain";$("#"+n).addClass("disabled");$("#"+n+" .fa").addClass("fa-circle-o-notch fa-spin");var t=new ObjUrl(cfrmCreateIconImage),i=t.getUrlSubmitForm();$.ajax({url:i,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:{},timeout:6e5}).done(function(t){$("#"+n).removeClass("disabled");$("#"+n+" .fa").removeClass("fa-circle-o-notch fa-spin");var i=new ObjAlert(cfrmCreateIconImage,t.message,t.status);i.getAlert();$("#modalResizeImage").modal("hide")}).fail(function(){swal(cSwal_Alert_Error,cError_Fail_TimeOut,cSwal_Icon_Error)})}function createIconImageCustomDomain(){var n="btnCreateIconImageCustomDomain";$("#"+n).addClass("disabled");$("#"+n+" .fa").addClass("fa-circle-o-notch fa-spin");var t=new ObjUrl(cfrmCreateIconImage),i=t.getUrlSubmitForm(),r={DomainId:vmViewIndex.setup.dataModal.domainId()};$.ajax({url:i,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:r,timeout:ajax_timeout}).done(function(t){$("#"+n).removeClass("disabled");$("#"+n+" .fa").removeClass("fa-circle-o-notch fa-spin");var i=new ObjAlert(cfrmCreateIconImage,t.message,t.status);i.getAlert()}).fail(function(){swal(cSwal_Alert_Error,cError_Fail_TimeOut,cSwal_Icon_Error)})}function getAllAccount(){vmViewIndex.setup.dataAllAccount([]);var n,t=new ObjUrl(cJsonGetDataAllAccount),i=t.getUrlFromJson(),r;$.ajax({url:i,async:ajax_async,cache:ajax_cache,type:ajax_type_post,data:r,timeout:ajax_timeout}).done(function(t){t.status&&(n=JSON.parse(t.obj),ko.mapping.fromJS(n,{},vmViewIndex.setup.dataAllAccount));$(".shimmer-setup").css("display")!="none"&&vmViewIndex.setup.data().length!=0&&loadingShimmer(!1,cGridSetup)}).fail(function(){n=null;vmViewIndex.setup.dataAllAccount([]);!$(".shimmer-setup").css("display")=="none"&&vmViewIndex.setup.data()!=null&&loadingShimmer(!1,cGridSetup)})}function isProduction(n){return n!="8907303"&&n!="8907306"?!0:!1}function swalConfirmActivateCreditCardAndMarkeingServiceFee(){swal({title:"Are you sure?",text:'If you enable "Activate Credit Card and Marketing Fee", shop will be can use only "Pay Credit".',type:"question",showCancelButton:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button",cancelButtonClass:"btn btn-danger"}).then(function(){vmViewIndex.setup.dataModal.feeCreditAndMarketing(!0);vmViewIndex.setup.dataModal.pickupPayCash(!1);vmViewIndex.setup.dataModal.pickupPayCredit(!0);vmViewIndex.setup.dataModal.deliveryPayCash(!1);vmViewIndex.setup.dataModal.deliveryPayCredit(!0);$("#btnDomain_MarketingServiceFeeYes").addClass("active");$("#btnDomain_MarketingServiceFeeNo").removeClass("active")},function(n){n==="cancel"&&($("#btnDomain_MarketingServiceFeeYes").removeClass("active"),$("#btnDomain_MarketingServiceFeeNo").addClass("active"))})}function addClassActive(n){$("#"+n).addClass("active")}function swalValidatePaymentType(n,t){var i="";i=n?t?'Please remove "Activate Credit Card and Marketing Fee" before setting "Pay Cash".':'Please remove "Activate Credit Card and Marketing Fee" before setting close "Pay Credit".':t?'Please remove "Activate Credit Card and Marketing Fee" or choose Dispatch by "None" before setting "Pay Cash".':'Please remove "Activate Credit Card and Marketing Fee" or choose Dispatch by "None" before setting close "Pay Credit".';swal({title:cSwal_Alert_Warning,text:i,type:cSwal_Icon_Warning,showCancelButton:!1,confirmButtonText:"Ok",closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn theme default-button"}).then(function(){n&&t?($("#btnDomain_PayCashPickupYes").removeClass("active"),$("#btnDomain_PayCashPickupNo").addClass("active")):n&&!t?($("#btnDomain_PayCreditPickupYes").addClass("active"),$("#btnDomain_PayCreditPickupNo").removeClass("active")):!n&&t?($("#btnDomain_PayCashDeliveryYes").removeClass("active"),$("#btnDomain_PayCashDeliveryNo").addClass("active")):n||t||($("#btnDomain_PayCreditDeliveryYes").addClass("active"),$("#btnDomain_PayCreditDeliveryNo").removeClass("active"))})}function checkDispatch(){var n=!(!vmViewIndex.setup.dataModal.deliveryPayCash()&&vmViewIndex.setup.dataModal.deliveryPayCredit()),t=!(vmViewIndex.setup.dataModal.tipAuto()==cTipAuto_DoorDash&&vmViewIndex.setup.dataModal.tipGuide()==cTipGuide_DoorDash);vmViewIndex.setup.dataModal.webDispatch()!=null&&(vmViewIndex.setup.dataModal.dispatchType()==cDispatchType_DoorDash?(n||t)&&(swal(cSwal_Alert_Warning,"Payment type and tips will automatically be changed.",cSwal_Icon_Warning),vmViewIndex.setup.dataModal.tipAuto(cTipAuto_DoorDash),vmViewIndex.setup.dataModal.tipGuide(cTipGuide_DoorDash)):n&&swal(cSwal_Alert_Warning,"Payment type will automatically be changed.",cSwal_Icon_Warning),vmViewIndex.setup.dataModal.deliveryPayCash(!1),vmViewIndex.setup.dataModal.deliveryPayCredit(!0))}$(document).on("click",cfrmSetUpDomain_DomainId,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_DomainName,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_DomainValue,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ShopNumber,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ShopName,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ShopAddress,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ShopPostal,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ShopPhone,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ShopEmail,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_Latitude,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_Longitude,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_TimeStartPickup,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_TimeEndPickup,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_TimeStartDelivery,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_TimeEndDelivery,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ServiceFee,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_DeliveryChargeTax,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_ServiceFeePercent,function(){disableErrMsg($(this))});$(document).on("click",cfrmSetUpDomain_MinimumOrder,function(){disableErrMsg($(this))});$(document).on("click","#btnDomain_DispatchType",function(){removeErrorMessage(cfrmSetUpDomain)});